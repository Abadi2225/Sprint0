

name: .NET Code Metrics
on: [push]

jobs:
  build:
    runs-on: ubuntu-latest
    permissions:
      contents: write
      pull-requests: write
    steps:
      - uses: actions/checkout@v4
      
      - name: Setup .NET
        uses: actions/setup-dotnet@v4

      - name: Restore dependencies
        # Replace 'YourSubfolder' with your actual folder name
        run: dotnet restore ./Jesse/Sprint2/Sprint.sln

      - name: Run Metrics
        # Use the specific main branch path for the metrics tool
        uses: dotnet/samples/github-actions/DotNet.GitHubAction@main
        id: metrics
        with:
          owner: ${{ github.repository_owner }}
          name: ${{ github.event.repository.name }} # Changed from 'repository' to 'name'
          branch: ${{ github.ref_name }}
          dir: './' # The root where the .md file will be saved
          workspace: './Jesse/Sprint2/Sprint.sln'
